<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calcula tu tarifa Baila Zouk con Stef y Nesa</title>
  <style>
    :root{
      --bg1:#0b0820;
      --bg2:#1a0f2f;
      --card:#15122aee;
      --card2:#121026cc;
      --stroke:#2a2752;
      --txt:#e9e8ff;
      --muted:#b9b7e6;
      --zouk:#4fd3ff;     /* azul zouk */
      --fucsia:#ff4fd8;
      --green:#27d17f;
      --btn:#2a2752;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--txt);
      background: radial-gradient(1000px 600px at 20% 10%, #2a1a5c 0%, transparent 60%),
                  radial-gradient(900px 700px at 90% 20%, #0f3a55 0%, transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      padding:28px 14px 60px;
    }
    .wrap{max-width:1100px;margin:0 auto}
    .hero{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--stroke);
      border-radius:24px;
      padding:22px 22px 18px;
      box-shadow: var(--shadow);
    }
    .heroTop{
      display:flex; gap:18px; align-items:flex-start; justify-content:space-between;
      flex-wrap:wrap;
    }
    .heroTitle{
      margin:0;
      font-size:34px;
      letter-spacing:.2px;
      line-height:1.15;
    }
    .sub{margin:8px 0 0;color:var(--muted);font-size:14.5px}
    .chips{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:14px;
      align-items:center;
    }
    .chip{
      display:inline-flex; gap:8px; align-items:center;
      padding:9px 12px;
      border:1px solid var(--stroke);
      border-radius:999px;
      background: rgba(0,0,0,.18);
      color:var(--txt);
      font-size:13px;
      white-space:nowrap;
    }
    .chip a{color:inherit;text-decoration:none}
    .chip.wh{border-color: rgba(39,209,127,.35)}
    .chip.wh strong{color:#a7ffd6}
    .chip.form{border-color: rgba(255,207,95,.35)}
    .chip.form strong{color:#ffe2a8}
    .heroLogoBox{
      display:flex; align-items:center; justify-content:center;
      width:360px; max-width:100%;
      min-height:120px;
      border:1px dashed rgba(255,255,255,.18);
      border-radius:18px;
      background: rgba(0,0,0,.16);
      overflow:hidden;
    }
    .hero-logo{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      opacity:.98;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      margin-top:16px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .heroLogoBox{width:100%}
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.06));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      padding:16px;
      box-shadow: 0 12px 40px rgba(0,0,0,.25);
    }
    h2{
      margin:0 0 10px;
      font-size:16px;
      color:#ffffff;
    }
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:7px}
    select{
      width:100%;
      padding:11px 12px;
      border-radius:12px;
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color:var(--txt);
      outline:none;
    }
    .row3{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 700px){
      .row3{grid-template-columns:1fr}
    }

    .mods{
      margin-top:10px;
      display:grid;
      gap:10px;
    }
    .mod{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 12px;
      border:1px solid var(--stroke);
      border-radius:14px;
      background: rgba(0,0,0,.16);
    }
    .mod strong{font-weight:700}
    .mod input{transform:scale(1.12)}
    .hint{color:var(--muted);font-size:12.5px;margin-top:6px}

    .actions{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:12px;
      align-items:center;
    }
    .btn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color:var(--txt);
      padding:11px 14px;
      border-radius:14px;
      cursor:pointer;
      font-weight:700;
    }
    .btn:hover{filter:brightness(1.08)}
    .btnCalc{
      background: linear-gradient(135deg, rgba(79,211,255,.22), rgba(255,79,216,.14));
      border-color: rgba(79,211,255,.32);
      box-shadow: 0 10px 24px rgba(79,211,255,.10);
      font-size:15px;
      padding:12px 16px;
    }
    .btnPriv{
      background: linear-gradient(135deg, rgba(255,79,216,.18), rgba(79,211,255,.10));
      border-color: rgba(255,79,216,.30);
      box-shadow: 0 10px 24px rgba(255,79,216,.10);
      font-size:15px;
      padding:12px 16px;
    }
    .btnWA{
      background: linear-gradient(135deg, rgba(39,209,127,.22), rgba(39,209,127,.10));
      border-color: rgba(39,209,127,.35);
      font-size:14px;
      padding:12px 14px;
    }
    .btnLink{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.14);
    }

    .totalBox{
      margin-top:10px;
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    .total{
      font-size:34px;
      font-weight:900;
      letter-spacing:.2px;
      margin:0;
      color:#ffffff;
    }
    .detail{
      margin-top:6px;
      font-size:13px;
      color:var(--muted);
      line-height:1.35;
    }

    .side h3{
      margin:0 0 10px;
      font-size:15px;
    }
    .side p, .side li{
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }
    .side ul{margin:8px 0 0; padding-left:18px}
    .smallLink{color:#cde9ff;text-decoration:none}
    .smallLink:hover{text-decoration:underline}
  </style>
</head>

<body>
<div class="wrap">

  <section class="hero">
    <div class="heroTop">
      <div style="flex:1; min-width:260px">
        <h1 class="heroTitle">Calcula tu tarifa Baila Zouk con Stef y Nesa</h1>
        <div class="sub">Puertollano ¬∑ Calcula al instante seg√∫n lo que quieres: clase suelta, mensual, pareja/amigos o privadas.</div>

        <div class="chips">
          <span class="chip">üìç Edificio Tauro ¬∑ 1¬™ planta (izq.)</span>
          <span class="chip">üïí 18:30 Salsa ¬∑ 19:30 BachaZouk ¬∑ 20:30 Zouk</span>

          <!-- WhatsApp en la MISMA l√≠nea -->
          <span class="chip wh"><a href="https://wa.me/34645772010" target="_blank" rel="noopener"><strong>WhatsApp Stef:</strong> +34 645 77 20 10</a></span>
          <span class="chip wh"><a href="https://wa.me/34615486473" target="_blank" rel="noopener"><strong>WhatsApp Nesa:</strong> 615 486 473</a></span>

          <span class="chip form"><a href="https://docs.google.com/forms/d/e/1FAIpQLSfJqgEEdjhupSm0R1-5Vi2xHXLkY5xwgaYm93pTlrl8Nu3ACw/viewform" target="_blank" rel="noopener"><strong>üéÅ Consigue tu clase GRATIS</strong> (Formulario)</a></span>
        </div>
      </div>

      <!-- LOGO / FOTO -->
      <div class="heroLogoBox" title="Logo / foto">
        <!-- IMPORTANTE: sube el archivo al repo en assets/logo-bailazouk.jpg -->
        <img src="logotipo-bailazouk.png" alt="Baila Zouk - Stef & Nesa" style="max-width:220px;margin:20px auto;display:block;">
      </div>
    </div>
  </section>

  <section class="grid">

    <!-- IZQ: Calculadora principal -->
    <div class="card">
      <h2>1) Tarifas de clases (seg√∫n tabla)</h2>

      <div class="row3">
        <div>
          <label for="tipo">Tipo</label>
          <select id="tipo">
            <option value="mensual" selected>Mensual</option>
            <option value="clase">Clase suelta</option>
          </select>
        </div>

        <div>
          <label for="personas">Personas</label>
          <select id="personas">
            <option value="1" selected>1 persona</option>
            <option value="2">2 personas</option>
          </select>
        </div>

        <div>
          <label for="modsCount">Modalidades</label>
          <select id="modsCount">
            <option value="1" selected>1 modalidad</option>
            <option value="2">2 modalidades</option>
            <option value="3">3 modalidades</option>
          </select>
        </div>
      </div>

      <div style="margin-top:14px">
        <h2>2) Modalidades exactas</h2>
        <div class="hint">Elige exactamente las modalidades que quieres (se limita autom√°ticamente seg√∫n 1 / 2 / 3).</div>

        <div class="mods" id="mods">
          <div class="mod">
            <strong>Salsa</strong>
            <input type="checkbox" id="m_salsa">
          </div>
          <div class="mod">
            <strong>BachaZouk</strong>
            <input type="checkbox" id="m_bachazouk">
          </div>
          <div class="mod">
            <strong>Zouk</strong>
            <input type="checkbox" id="m_zouk">
          </div>
        </div>

        <div class="hint" id="modsHint">Elige exactamente 1 modalidad(es).</div>
      </div>

      <div style="margin-top:14px">
        <h2>3) Descuento (no acumulable)</h2>
        <label for="descuento">Selecciona descuento</label>
        <select id="descuento">
          <option value="none" selected>Ninguno</option>
          <option value="amigo5">Invitas a un amigo (‚àí5‚Ç¨)</option>
        </select>
        <div class="hint">Se aplica solo en ‚ÄúMensual‚Äù y solo si NO est√°s en ‚Äú2 personas‚Äù.</div>
      </div>

      <div class="actions">
        <button class="btn btnCalc" id="btnCalc">Calcular</button>
        <a class="btn btnLink" href="https://bailazouk.my.canva.site/" target="_blank" rel="noopener">Volver a la Landing</a>
        <button class="btn btnWA" id="btnWASt">Confirmar tarifa por WhatsApp (Stef)</button>
        <button class="btn btnWA" id="btnWANe">Confirmar tarifa por WhatsApp (Nesa)</button>
      </div>

      <div class="totalBox">
        <p class="total" id="total">Total: ‚Äî</p>
        <div class="detail" id="detail">Tarifa: ‚Äî ¬∑ Precio por persona: ‚Äî</div>
        <div class="detail" id="modsDetail">Modalidades: ‚Äî</div>
      </div>
    </div>

    <!-- DER: Info + privadas -->
    <div class="card side">
      <h3>Info r√°pida</h3>
      <p>Objetivo: que el alumno elija su tarifa y te escriba para confirmar.</p>
      <ul>
        <li>En los botones WhatsApp se abre el chat con el mensaje ya escrito.</li>
        <li>La clase GRATIS se consigue con el formulario.</li>
      </ul>

      <div style="margin-top:16px">
        <h2>4) Clases privadas + packs</h2>
        <p>Esta parte ya queda lista para usar cuando activ√©is privadas e intensivos.</p>

        <div class="row3" style="grid-template-columns:1.2fr .9fr .9fr">
          <div>
            <label for="privAlumno">¬øEres alumno actual?</label>
            <select id="privAlumno">
              <option value="si" selected>S√≠ (alumno)</option>
              <option value="no">No (externo)</option>
            </select>
          </div>
          <div>
            <label for="privPers">Personas</label>
            <select id="privPers">
              <option value="1" selected>1 persona</option>
              <option value="2">Pareja (2)</option>
            </select>
          </div>
          <div>
            <label for="privPack">Pack</label>
            <select id="privPack">
              <option value="1" selected>1 clase</option>
              <option value="5">Pack 5 (pagas 4)</option>
              <option value="10">Pack 10 (pagas 8)</option>
            </select>
          </div>
        </div>

        <div class="actions" style="margin-top:10px">
          <button class="btn btnPriv" id="btnPriv">Calcular privadas</button>
        </div>

        <div class="totalBox" style="margin-top:10px">
          <p class="total" style="font-size:26px" id="privTotal">Privadas: ‚Äî</p>
          <div class="detail" id="privDetail">Detalle: ‚Äî</div>
          <div class="detail" style="margin-top:10px">
            <strong>Tarifas privadas:</strong>
            <ul>
              <li>Alumno: 1 persona = 25‚Ç¨ ¬∑ Pareja = 20‚Ç¨/persona (40‚Ç¨)</li>
              <li>Externo: 1 persona = 30‚Ç¨ ¬∑ Pareja = 30‚Ç¨/persona (60‚Ç¨)</li>
              <li>Pack 5: pagas 4 ¬∑ Pack 10: pagas 8</li>
            </ul>
          </div>
          <div class="detail" style="margin-top:8px">
            <a class="smallLink" target="_blank" rel="noopener"
               href="https://docs.google.com/forms/d/e/1FAIpQLSfJqgEEdjhupSm0R1-5Vi2xHXLkY5xwgaYm93pTlrl8Nu3ACw/viewform">
              üéÅ Abrir formulario ‚Äúclase GRATIS‚Äù
            </a>
          </div>
        </div>
      </div>
    </div>

  </section>
</div>

<script>
  const el = (id)=>document.getElementById(id);

  const tipo = el('tipo');
  const personas = el('personas');
  const modsCount = el('modsCount');
  const descuento = el('descuento');

  const mSalsa = el('m_salsa');
  const mBacha = el('m_bachazouk');
  const mZouk  = el('m_zouk');

  const totalEl = el('total');
  const detailEl = el('detail');
  const modsHint = el('modsHint');
  const modsDetail = el('modsDetail');

  function selectedMods(){
    const arr=[];
    if(mSalsa.checked) arr.push('Salsa');
    if(mBacha.checked) arr.push('BachaZouk');
    if(mZouk.checked)  arr.push('Zouk');
    return arr;
  }

  function enforceModsLimit(){
    const limit = Number(modsCount.value);
    const chosen = selectedMods().length;

    modsHint.textContent = `Elige exactamente ${limit} modalidad(es).`;

    // si ya eligi√≥ el m√°ximo, bloquea las no marcadas
    const lock = (chosen >= limit);
    [mSalsa, mBacha, mZouk].forEach(cb=>{
      if(!cb.checked) cb.disabled = lock;
      else cb.disabled = false;
    });

    // si baja el limit, desmarca extras autom√°ticamente (de abajo arriba)
    if(chosen > limit){
      const order = [mZouk, mBacha, mSalsa]; // orden para quitar
      for(const cb of order){
        if(selectedMods().length <= limit) break;
        if(cb.checked) cb.checked = false;
      }
    }
  }

  function adjustForTipo(){
    // Si es clase suelta: personas=1, modalidades=1 y bloqueo
    if(tipo.value === 'clase'){
      personas.value = '1';
      modsCount.value = '1';
      personas.disabled = true;
      modsCount.disabled = true;
    }else{
      personas.disabled = false;
      modsCount.disabled = false;
    }
    enforceModsLimit();
  }

  function calcMain(){
    const t = tipo.value;
    const p = Number(personas.value);
    const m = Number(modsCount.value);

    // Validaci√≥n modalidades exactas
    const mods = selectedMods();
    if(mods.length !== m){
      totalEl.textContent = `Total: ‚Äî`;
      detailEl.textContent = `Selecciona exactamente ${m} modalidad(es).`;
      modsDetail.textContent = `Modalidades: ${mods.join(', ') || '‚Äî'}`;
      return;
    }

    let total = 0;
    let tarifa = '';
    let precioPersona = 0;

    if(t === 'clase'){
      // Clase suelta (TARIFA 8): 10‚Ç¨ por persona, solo 1 persona, 1 modalidad
      tarifa = 'TARIFA 8 (Clase suelta)';
      precioPersona = 10;
      total = 10;
    }else{
      // Mensual seg√∫n tu tabla:
      // 1 persona:
      // m1 => 30 (T1) ; m2 => 50 (T2 total) ; m3 => 60 (T3 total)
      // 2 personas:
      // m1 => 50 (T4 total) ; m2 => 72 (T5 total) ; m3 => 90 (T6 total)
      if(p===1 && m===1){ total=30; tarifa='TARIFA 1'; precioPersona=30; }
      if(p===1 && m===2){ total=50; tarifa='TARIFA 2'; precioPersona=25; }
      if(p===1 && m===3){ total=60; tarifa='TARIFA 3'; precioPersona=20; }
      if(p===2 && m===1){ total=50; tarifa='TARIFA 4'; precioPersona=25; }
      if(p===2 && m===2){ total=72; tarifa='TARIFA 5'; precioPersona=18; }
      if(p===2 && m===3){ total=90; tarifa='TARIFA 6'; precioPersona=15; }

      // Descuento NO acumulable: solo mensual y solo si NO es 2 personas
      if(descuento.value === 'amigo5' && p !== 2){
        total = Math.max(0, total - 5);
      }
    }

    totalEl.textContent = `Total: ${total} ‚Ç¨`;
    detailEl.textContent = `Tarifa: ${tarifa} ¬∑ Precio por persona: ${precioPersona}‚Ç¨ / persona`;
    modsDetail.textContent = `Modalidades: ${mods.join(', ')}`;
  }

  function waMessage(who){
    const t = tipo.value === 'clase' ? 'Clase suelta' : 'Mensual';
    const p = personas.value;
    const m = modsCount.value;
    const mods = selectedMods().join(', ') || '‚Äî';
    const totalTxt = totalEl.textContent.replace('Total: ','').trim();

    const text =
`Hola ${who}, quiero confirmar mi tarifa üòä
‚Ä¢ Tipo: ${t}
‚Ä¢ Personas: ${p}
‚Ä¢ Modalidades: ${m} (${mods})
‚Ä¢ ${totalEl.textContent}

Link calculadora: ${location.href}
Landing: https://bailazouk.my.canva.site/
Formulario clase GRATIS: https://docs.google.com/forms/d/e/1FAIpQLSfJqgEEdjhupSm0R1-5Vi2xHXLkY5xwgaYm93pTlrl8Nu3ACw/viewform`;

    return encodeURIComponent(text);
  }

  el('btnCalc').addEventListener('click', calcMain);

  el('btnWASt').addEventListener('click', ()=>{
    calcMain();
    window.open(`https://wa.me/34645772010?text=${waMessage('Stef')}`, '_blank');
  });

  el('btnWANe').addEventListener('click', ()=>{
    calcMain();
    window.open(`https://wa.me/34615486473?text=${waMessage('Nesa')}`, '_blank');
  });

  // Privadas
  const privAlumno = el('privAlumno');
  const privPers = el('privPers');
  const privPack = el('privPack');
  const privTotal = el('privTotal');
  const privDetail = el('privDetail');

  function calcPriv(){
    const isAlumno = privAlumno.value === 'si';
    const p = Number(privPers.value);
    const pack = Number(privPack.value);

    let base = 0;
    let detalle = '';

    if(isAlumno){
      if(p===1){ base = 25; detalle = 'Alumno ¬∑ 1 persona'; }
      else { base = 40; detalle = 'Alumno ¬∑ Pareja (40‚Ç¨)'; }
    }else{
      if(p===1){ base = 30; detalle = 'Externo ¬∑ 1 persona'; }
      else { base = 60; detalle = 'Externo ¬∑ Pareja (60‚Ç¨)'; }
    }

    let total = base;
    if(pack===5){ total = base * 4; detalle += ' ¬∑ Pack 5 (pagas 4)'; }
    if(pack===10){ total = base * 8; detalle += ' ¬∑ Pack 10 (pagas 8)'; }

    privTotal.textContent = `Privadas: ${total} ‚Ç¨`;
    privDetail.textContent = `Detalle: ${detalle}`;
  }

  el('btnPriv').addEventListener('click', calcPriv);

  // Reglas autom√°ticas en cambios
  [modsCount, mSalsa, mBacha, mZouk].forEach(x=>x.addEventListener('change', enforceModsLimit));
  tipo.addEventListener('change', adjustForTipo);

  // Init
  adjustForTipo();
  enforceModsLimit();
  calcMain();
</script>
</body>
</html>
