<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calcula tu tarifa Baila Zouk | Stef & Nesa</title>
  <style>
    :root{
      --bg1:#070616;
      --bg2:#0b0a22;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.12);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);

      /* Tipograf√≠a (m√°s grande) */
      --fs-base: 17px;
      --fs-h1: 36px;
      --fs-h2: 22px;
      --fs-label: 16px;
      --fs-small: 14px;

      /* Colores marca */
      --zouk-blue: #79d7ff;
      --zouk-fuchsia: #ff4be1;
      --wa: #28d96b;
      --gift: #ffd06a;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      font-size: var(--fs-base);
      color: var(--txt);
      background:
        radial-gradient(1000px 550px at 15% 10%, rgba(140,60,255,.20), transparent 60%),
        radial-gradient(900px 650px at 85% 20%, rgba(60,190,255,.18), transparent 55%),
        radial-gradient(700px 450px at 50% 95%, rgba(255,70,220,.12), transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      min-height:100vh;
      padding: 26px 18px 44px;
    }

    .wrap{
      max-width: 1100px;
      margin: 0 auto;
    }

    .header{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap: 18px;
      padding: 22px;
      border: 1px solid var(--stroke);
      border-radius: 22px;
      background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow: 0 22px 60px rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
    }

    .brand h1{
      margin:0 0 8px 0;
      font-size: var(--fs-h1);
      line-height: 1.08;
      letter-spacing: .2px;
    }
    .brand h1 .zouk{
      color: var(--zouk-blue);
      text-shadow: 0 0 22px rgba(121,215,255,.16);
    }
    .brand h1 .fuchsia{
      color: var(--zouk-fuchsia);
      text-shadow: 0 0 22px rgba(255,75,225,.12);
    }
    .sub{
      margin:0;
      color: var(--muted);
      font-size: 16px;
      line-height:1.35;
    }

    .chips{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 14px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.90);
      font-weight: 650;
      font-size: 15px;
      white-space: nowrap;
    }
    .chip b{ font-weight: 800; }
    .chip.wa{
      border-color: rgba(40,217,107,.35);
      background: linear-gradient(135deg, rgba(40,217,107,.14), rgba(40,217,107,.06));
    }
    .chip.wa b{ color: rgba(40,217,107,.95); }
    .chip.place{
      border-color: rgba(255,255,255,.12);
    }
    .chip.time{
      border-color: rgba(121,215,255,.22);
    }

    .logoBox{
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius: 18px;
      border: 1px dashed rgba(255,255,255,.18);
      background: rgba(0,0,0,.18);
      min-height: 168px;
      padding: 12px;
    }
    .logoBox img{
      max-width: 100%;
      max-height: 140px;
      object-fit: contain;
      filter: drop-shadow(0 14px 30px rgba(0,0,0,.35));
    }

    .infoBar{
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      font-size: 16px;
      line-height: 1.35;
      color: rgba(255,255,255,.86);
    }

    .grid{
      margin-top: 18px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 18px;
    }

    .card{
      border: 1px solid var(--stroke);
      border-radius: 20px;
      background: var(--card);
      box-shadow: 0 18px 55px rgba(0,0,0,.28);
      backdrop-filter: blur(10px);
      padding: 18px;
    }

    .card h2{
      margin: 0 0 12px 0;
      font-size: var(--fs-h2);
      letter-spacing: .2px;
    }

    .row3{
      display:grid;
      grid-template-columns: 1.1fr 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 900px){
      .header{ grid-template-columns: 1fr; }
      .row3{ grid-template-columns: 1fr; }
    }

    label{
      display:block;
      margin: 0 0 8px 0;
      font-size: var(--fs-label);
      color: rgba(255,255,255,.86);
      font-weight: 700;
    }

    select{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color: rgba(255,255,255,.92);
      outline: none;
      font-size: 16px;
    }

    .modsWrap{
      margin-top: 12px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }

    .modsTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      margin-bottom: 10px;
    }
    .modsTitle .hint{
      font-size: var(--fs-small);
      color: rgba(255,255,255,.70);
    }

    /* Modalidades: nombre a la izquierda, checkbox a la derecha */
    .modLine{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      margin-bottom: 10px;
    }
    .modLine:last-child{ margin-bottom:0; }
    .modName{
      font-size: 18px;
      font-weight: 800;
    }
    .modName .tag{
      font-size: 12px;
      color: rgba(255,255,255,.65);
      font-weight: 700;
      margin-left: 8px;
    }
    input[type="checkbox"]{
      transform: scale(1.25);
      accent-color: var(--zouk-blue);
      cursor: pointer;
    }
    .disabled{
      opacity: .55;
      pointer-events: none;
    }

    .actionsRow{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 13px 16px;
      border-radius: 14px;
      text-decoration:none;
      font-weight: 850;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color:#fff;
      cursor:pointer;
      user-select:none;
      backdrop-filter: blur(10px);
    }

    .btnPrimary{
      padding: 14px 18px;
      font-size: 19px;
      border: 1px solid rgba(121,215,255,.45);
      background: linear-gradient(135deg, rgba(121,215,255,.30), rgba(255,75,225,.20));
      box-shadow: 0 12px 32px rgba(90,90,255,.22);
    }
    .btnGhost{
      font-size: 18px;
    }
    .btnGift{
      font-size: 18px;
      border: 1px solid rgba(255,208,106,.55);
      background: linear-gradient(135deg, rgba(255,208,106,.22), rgba(255,80,180,.14));
      box-shadow: 0 12px 32px rgba(255,180,80,.16);
      color: rgba(255,255,255,.95);
    }
    .btnWa{
      min-width: 230px;
      font-size: 18px;
      border: 1px solid rgba(40,217,107,.55);
      background: linear-gradient(135deg, rgba(40,217,107,.22), rgba(40,217,107,.10));
      box-shadow: 0 12px 32px rgba(40,217,107,.10);
    }

    .resultBox{
      margin-top: 14px;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
    }
    .totalBig{
      font-size: 42px;
      font-weight: 950;
      letter-spacing: .3px;
      margin: 0;
    }
    .details{
      margin-top: 8px;
      color: rgba(255,255,255,.78);
      font-size: 15px;
      line-height: 1.35;
    }

    .note{
      margin-top: 10px;
      color: rgba(255,255,255,.72);
      font-size: var(--fs-small);
    }

    /* Privadas en bloque ancho */
    .privGrid{
      display:grid;
      grid-template-columns: 1.1fr 1fr 1fr;
      gap: 12px;
    }
    @media (max-width: 900px){
      .privGrid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <section class="header">
      <div class="brand">
        <h1>
          Calcula tu tarifa <span class="fuchsia">Baila</span> <span class="zouk">Zouk</span> con Stef y Nesa
        </h1>

        <p class="sub">
          Puertollano ¬∑ Calcula al instante seg√∫n lo que quieres: clase suelta, mensual, pareja/amigos o privadas.
        </p>

        <div class="chips">
          <div class="chip place">üìç <b>Edificio Tauro</b> ¬∑ 1¬™ planta (izq.)</div>
          <div class="chip time">üïí 18:30 Salsa ¬∑ 19:30 BachaZouk ¬∑ 20:30 Zouk</div>
          <div class="chip wa">üü¢ WhatsApp <b>Stef</b>: +34 645 77 20 10</div>
          <div class="chip wa">üü¢ WhatsApp <b>Nesa</b>: 615 486 473</div>
        </div>

        <div class="infoBar">
          <b>C√≥mo funciona:</b> elige tipo, personas y modalidades ‚Üí pulsa <b>Calcular</b>.
          Luego confirma por WhatsApp (Stef o Nesa) con el mensaje ya preparado.
        </div>
      </div>

      <div class="logoBox">
        <!-- IMPORTANTE: el archivo debe estar en la ra√≠z del repo con este nombre -->
        <img id="logo"
             src="./logobailazouk.png"
             alt="Logo Baila Zouk"
             onerror="this.onerror=null;this.src='./logotipo-bailazouk.png';" />
      </div>
    </section>

    <div class="grid">

      <!-- 1) TARIFAS (ANCHO) -->
      <section class="card">
        <h2>1) Tarifas de clases (seg√∫n tabla)</h2>

        <div class="row3">
          <div>
            <label for="tipo">Tipo</label>
            <select id="tipo">
              <option value="mensual" selected>Mensual</option>
              <option value="clase">Clase suelta</option>
            </select>
          </div>

          <div>
            <label for="personas">Personas</label>
            <select id="personas">
              <option value="1" selected>1 persona</option>
              <option value="2">2 personas</option>
            </select>
          </div>

          <div>
            <label for="modsCount">Modalidades</label>
            <select id="modsCount">
              <option value="1" selected>1 modalidad</option>
              <option value="2">2 modalidades</option>
              <option value="3">3 modalidades</option>
            </select>
          </div>
        </div>

        <div class="modsWrap">
          <div class="modsTitle">
            <div style="font-weight:900;font-size:18px;">2) Modalidades exactas</div>
            <div class="hint" id="modsHint">Elige exactamente 1 modalidad.</div>
          </div>

          <div class="modLine">
            <div class="modName">Salsa <span class="tag">(18:30)</span></div>
            <input type="checkbox" id="mSalsa" />
          </div>

          <div class="modLine">
            <div class="modName">BachaZouk <span class="tag">(19:30)</span></div>
            <input type="checkbox" id="mBachaZouk" />
          </div>

          <div class="modLine">
            <div class="modName">Zouk <span class="tag">(20:30)</span></div>
            <input type="checkbox" id="mZouk" />
          </div>

          <div class="note" id="modsError" style="display:none; color: rgba(255,120,120,.95); font-weight:800;">
            Selecciona exactamente el n√∫mero de modalidades indicado.
          </div>
        </div>

        <div style="margin-top:14px;">
          <label for="descuento">3) Descuento (no acumulable)</label>
          <select id="descuento">
            <option value="none" selected>Ninguno</option>
            <option value="invita5">Invito a un amigo/a que se apunta (‚àí5‚Ç¨)</option>
          </select>
          <div class="note" id="descNote">
            * El descuento ‚àí5‚Ç¨ se aplica solo a ‚ÄúMensual‚Äù con 1 persona. No acumulable con ‚Äú2 personas‚Äù.
          </div>
        </div>

        <!-- Botones: (arriba) Calcular + Landing + Formulario -->
        <div class="actionsRow">
          <button class="btn btnPrimary" onclick="calcTarifa()">Calcular</button>

          <a class="btn btnGhost" href="https://bailazouk.my.canva.site/" target="_blank" rel="noopener">
            Volver a la Landing
          </a>

          <a class="btn btnGift"
             href="https://docs.google.com/forms/d/e/1FAIpQLSfJqgEEdjhupSm0R1-5Vi2xwgaYm93pTlrl8Nu3ACw/viewform"
             target="_blank" rel="noopener">
            üéÅ Consigue tu clase GRATIS (Formulario)
          </a>
        </div>

        <!-- Botones WhatsApp juntos (abajo, misma l√≠nea) -->
        <div class="actionsRow">
          <a class="btn btnWa" id="waStef" target="_blank" rel="noopener">Confirmar tarifa por WhatsApp (Stef)</a>
          <a class="btn btnWa" id="waNesa" target="_blank" rel="noopener">Confirmar tarifa por WhatsApp (Nesa)</a>
        </div>

        <div class="resultBox">
          <p class="totalBig">Total: <span id="total">‚Äî</span></p>
          <div class="details" id="detailTarifa">Tarifa: ‚Äî</div>
          <div class="details" id="detailMods">Modalidades: ‚Äî</div>
          <div class="details" id="detailDesc">Descuento: ‚Äî</div>
        </div>
      </section>

      <!-- 4) PRIVADAS (ABAJO, ANCHO) -->
      <section class="card">
        <h2>4) Clases privadas + packs</h2>
        <div class="note" style="margin-top:-6px;">
          Tarifa privadas:
          <b>Alumno</b> (1 pers: 25‚Ç¨ / pareja: 20‚Ç¨ por persona = 40‚Ç¨) ¬∑
          <b>Externo</b> (1 pers: 30‚Ç¨ / pareja: 30‚Ç¨ por persona = 60‚Ç¨) ¬∑
          Packs: <b>5 clases pagas 4</b> ¬∑ <b>10 clases pagas 8</b>.
        </div>

        <div class="privGrid" style="margin-top:12px;">
          <div>
            <label for="privTipo">¬øEres alumno actual?</label>
            <select id="privTipo">
              <option value="alumno" selected>S√≠ (alumno)</option>
              <option value="externo">No (externo)</option>
            </select>
          </div>

          <div>
            <label for="privPers">Personas</label>
            <select id="privPers">
              <option value="1" selected>1 persona</option>
              <option value="2">Pareja (2 personas)</option>
            </select>
          </div>

          <div>
            <label for="privPack">Pack</label>
            <select id="privPack">
              <option value="1" selected>1 clase</option>
              <option value="5">Pack 5 (pagas 4)</option>
              <option value="10">Pack 10 (pagas 8)</option>
            </select>
          </div>
        </div>

        <div class="actionsRow" style="margin-top:14px;">
          <button class="btn btnPrimary" onclick="calcPrivadas()">Calcular privadas</button>
        </div>

        <div class="resultBox">
          <p class="totalBig">Privadas: <span id="privTotal">‚Äî</span></p>
          <div class="details" id="privDetail">Detalle: ‚Äî</div>
        </div>
      </section>

    </div>
  </div>

  <script>
    // ===== Config =====
    const LANDING_URL = "https://bailazouk.my.canva.site/";
    const CALC_URL = "https://stetico78.github.io/calculadora-tarifas-evozouk/";
    const FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSfJqgEEdjhupSm0R1-5Vi2xwgaYm93pTlrl8Nu3ACw/viewform";

    const WHATS_STEF = "34645772010";
    const WHATS_NESA = "34615486473";

    // ===== Helpers =====
    const $ = (id) => document.getElementById(id);

    function getSelectedMods(){
      const mods = [];
      if ($("mSalsa").checked) mods.push("Salsa");
      if ($("mBachaZouk").checked) mods.push("BachaZouk");
      if ($("mZouk").checked) mods.push("Zouk");
      return mods;
    }

    function setModsHint(){
      const n = parseInt($("modsCount").value, 10);
      $("modsHint").textContent = n === 3
        ? "En 3 modalidades se seleccionan las 3 obligatoriamente."
        : `Elige exactamente ${n} modalidad${n>1?"es":""}.`;
    }

    function enforceModsLimit(){
      const n = parseInt($("modsCount").value, 10);
      const boxes = [$("mSalsa"), $("mBachaZouk"), $("mZouk")];

      // Caso 3: obligatorias todas
      if (n === 3){
        boxes.forEach(b => { b.checked = true; b.disabled = true; b.closest(".modLine").classList.remove("disabled"); });
        $("modsError").style.display = "none";
        setModsHint();
        return;
      }

      // Si no es 3, habilitar y gestionar l√≠mites
      boxes.forEach(b => { b.disabled = false; b.closest(".modLine").classList.remove("disabled"); });

      const selected = boxes.filter(b => b.checked).length;

      // Si se pasa del l√≠mite, desmarca extra (simple: deja las primeras)
      if (selected > n){
        let count = 0;
        boxes.forEach(b => {
          if (b.checked){
            count++;
            if (count > n) b.checked = false;
          }
        });
      }

      // Si ya se lleg√≥ al l√≠mite, deshabilita las no seleccionadas
      const selectedNow = boxes.filter(b => b.checked).length;
      if (selectedNow >= n){
        boxes.forEach(b => {
          if (!b.checked){
            b.disabled = true;
            b.closest(".modLine").classList.add("disabled");
          }
        });
      }

      $("modsError").style.display = "none";
      setModsHint();
    }

    function autoRulesByTipo(){
      const tipo = $("tipo").value;

      // Clase suelta: siempre 1 modalidad (pero eliges cu√°l)
      if (tipo === "clase"){
        $("modsCount").value = "1";
        $("modsCount").disabled = true;
      } else {
        $("modsCount").disabled = false;
      }
      enforceModsLimit();
    }

    // ===== C√°lculo tarifas tabla =====
    function calcFromTable(tipo, personas, modsCount){
      // Devuelve {total, tarifaCode, perPerson}
      personas = parseInt(personas, 10);
      modsCount = parseInt(modsCount, 10);

      // Clase suelta (TARIFA 8): 10‚Ç¨ por persona
      if (tipo === "clase"){
        const total = 10 * personas;
        return { total, tarifaCode: "TARIFA 8", perPerson: 10 };
      }

      // Mensual: seg√∫n tu tabla
      if (personas === 1 && modsCount === 1) return { total: 30, tarifaCode: "TARIFA 1", perPerson: 30 };
      if (personas === 1 && modsCount === 2) return { total: 50, tarifaCode: "TARIFA 2", perPerson: 25 };
      if (personas === 1 && modsCount === 3) return { total: 60, tarifaCode: "TARIFA 3", perPerson: 20 };

      if (personas === 2 && modsCount === 1) return { total: 50, tarifaCode: "TARIFA 4", perPerson: 25 };
      if (personas === 2 && modsCount === 2) return { total: 72, tarifaCode: "TARIFA 5", perPerson: 18 };
      if (personas === 2 && modsCount === 3) return { total: 90, tarifaCode: "TARIFA 6", perPerson: 15 };

      // Fallback seguro
      return { total: 0, tarifaCode: "‚Äî", perPerson: 0 };
    }

    function applyDiscount(total, tipo, personas){
      const d = $("descuento").value;
      if (d === "invita5"){
        // regla: solo mensual + 1 persona
        if (tipo === "mensual" && parseInt(personas,10) === 1){
          return { total: Math.max(0, total - 5), label: "Invito a un amigo/a que se apunta (‚àí5‚Ç¨)" };
        }
        return { total, label: "Invito a un amigo/a (NO aplica en este caso)" };
      }
      return { total, label: "Ninguno" };
    }

    function validateModsCount(){
      const n = parseInt($("modsCount").value,10);
      const mods = getSelectedMods();
      // en 3 modalidades, ya forzamos todas
      if (n === 3) return true;
      return mods.length === n;
    }

    // ===== WhatsApp links =====
    function buildWaText(summary){
      // Mensaje corto y √∫til (con links)
      const lines = [
        "Hola üëã Soy alumno/a y quiero confirmar mi tarifa:",
        "",
        `‚Ä¢ Tipo: ${summary.tipoText}`,
        `‚Ä¢ Personas: ${summary.personas}`,
        `‚Ä¢ Modalidades: ${summary.mods.join(", ")}`,
        `‚Ä¢ Tarifa: ${summary.tarifaCode}`,
        `‚Ä¢ Total: ${summary.total} ‚Ç¨`,
        summary.descText ? `‚Ä¢ Descuento: ${summary.descText}` : "",
        "",
        `‚úÖ Calculadora: ${CALC_URL}`,
        `üéÅ Clase gratis (formulario): ${FORM_URL}`,
        `üåê Landing: ${LANDING_URL}`,
        "",
        "¬øMe lo confirm√°is y me dec√≠s c√≥mo reservar? Gracias üôå"
      ].filter(Boolean);

      return lines.join("\n");
    }

    function setWaLinks(summary){
      const txt = encodeURIComponent(buildWaText(summary));
      $("waStef").href = `https://wa.me/${WHATS_STEF}?text=${txt}`;
      $("waNesa").href = `https://wa.me/${WHATS_NESA}?text=${txt}`;
    }

    // ===== Acciones =====
    function calcTarifa(){
      autoRulesByTipo();

      if (!validateModsCount()){
        $("modsError").style.display = "block";
        $("total").textContent = "‚Äî";
        $("detailTarifa").textContent = "Tarifa: ‚Äî";
        $("detailMods").textContent = "Modalidades: ‚Äî";
        $("detailDesc").textContent = "Descuento: ‚Äî";
        return;
      }

      const tipo = $("tipo").value;
      const personas = $("personas").value;
      const modsCount = $("modsCount").value;
      const mods = getSelectedMods();

      const base = calcFromTable(tipo, personas, modsCount);
      const disc = applyDiscount(base.total, tipo, personas);

      $("total").textContent = disc.total;
      $("detailTarifa").textContent = `Tarifa: ${base.tarifaCode} ¬∑ Precio por persona: ${base.perPerson} ‚Ç¨ / persona`;
      $("detailMods").textContent = `Modalidades: ${mods.join(", ")}`;
      $("detailDesc").textContent = `Descuento: ${disc.label}`;

      const summary = {
        tipoText: (tipo === "clase") ? "Clase suelta" : "Mensual",
        personas: (parseInt(personas,10) === 1) ? "1" : "2",
        mods,
        tarifaCode: base.tarifaCode,
        total: disc.total,
        descText: disc.label
      };
      setWaLinks(summary);
    }

    function calcPrivadas(){
      const tipo = $("privTipo").value; // alumno / externo
      const pers = parseInt($("privPers").value,10); // 1 / 2
      const pack = parseInt($("privPack").value,10); // 1 / 5 / 10

      // Base por clase (por persona si pareja)
      let basePerPerson = 0;
      if (tipo === "alumno"){
        basePerPerson = (pers === 1) ? 25 : 20;
      } else {
        basePerPerson = (pers === 1) ? 30 : 30;
      }

      // Total por 1 clase (si pareja, multiplica por 2)
      let oneClassTotal = basePerPerson * pers;

      // Packs: 5 pagas 4, 10 pagas 8
      let factor = pack;
      let packLabel = `${pack} clase(s)`;
      if (pack === 5){ factor = 4; packLabel = "Pack 5 (pagas 4)"; }
      if (pack === 10){ factor = 8; packLabel = "Pack 10 (pagas 8)"; }

      const total = oneClassTotal * factor;

      $("privTotal").textContent = total + " ‚Ç¨";
      $("privDetail").textContent =
        `${(tipo==="alumno"?"Alumno":"Externo")} ¬∑ ${pers===1?"1 persona":"Pareja"} ¬∑ ${packLabel} ¬∑ ` +
        `Base: ${oneClassTotal} ‚Ç¨ por clase`;

      // Actualiza tambi√©n WhatsApp con resumen de privadas (por si quieren confirmar privadas)
      const summary = {
        tipoText: "Clase privada",
        personas: (pers===1) ? "1" : "2",
        mods: ["Privadas"],
        tarifaCode: (tipo==="alumno")
          ? (pers===1 ? "Privada Alumno 1p" : "Privada Alumno Pareja")
          : (pers===1 ? "Privada Externo 1p" : "Privada Externo Pareja"),
        total: total,
        descText: packLabel
      };
      setWaLinks(summary);
    }

    // ===== Eventos UI =====
    ["tipo","personas","modsCount"].forEach(id => $(id).addEventListener("change", () => {
      autoRulesByTipo();
    }));

    ["mSalsa","mBachaZouk","mZouk"].forEach(id => $(id).addEventListener("change", () => {
      enforceModsLimit();
    }));

    $("descuento").addEventListener("change", () => {
      // recalcula si ya hay total
      if ($("total").textContent !== "‚Äî") calcTarifa();
    });

    // ===== Init =====
    (function init(){
      // estado inicial: 1 modalidad obligatoria (pero que el usuario elija cu√°l)
      $("mBachaZouk").checked = true; // por defecto (puedes cambiar)
      autoRulesByTipo();
      // Prepara WhatsApp con un mensaje base aunque no hayan calculado todav√≠a
      setWaLinks({
        tipoText: "Mensual",
        personas: "1",
        mods: ["BachaZouk"],
        tarifaCode: "‚Äî",
        total: "‚Äî",
        descText: "‚Äî"
      });
    })();
  </script>
</body>
</html>
